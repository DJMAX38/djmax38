<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJ MAX ‚Äì Club & Boutique</title>
    <link rel="icon" type="image/png" href="favicon.png">

    <style>
        :root {
            --bg: #050509;
            --bg-soft: #0b0b12;
            --card: #10101a;
            --border: #26263a;
            --text: #f9fafb;
            --muted: #9ca3af;

            --primary: #ff2b6b;
            --primary-soft: #ff5c8f;
            --accent: #5b5bff;

            --radius: 14px;
            --shadow: 0 18px 45px rgba(0, 0, 0, 0.8);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #1b1024 0, #050509 55%);
            color: var(--text);
            overflow-x: hidden;
        }

        a { color: inherit; text-decoration: none; }

        /* FOND N√âONS ROUGES FINES */
        .neon-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
            background: radial-gradient(circle at top, #1b1024 0, #050509 55%);
            overflow: hidden;
        }

        .neon-line {
            position: absolute;
            width: 220%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), var(--primary-soft), transparent);
            opacity: 0.25;
            filter: blur(2px);
            animation: moveNeon 14s linear infinite;
        }

        .neon-line:nth-child(1) { top: 15%; animation-duration: 16s; }
        .neon-line:nth-child(2) { top: 32%; animation-duration: 12s; }
        .neon-line:nth-child(3) { top: 50%; animation-duration: 18s; }
        .neon-line:nth-child(4) { top: 68%; animation-duration: 14s; }
        .neon-line:nth-child(5) { top: 85%; animation-duration: 20s; }

        @keyframes moveNeon {
            from { transform: translateX(-50%); }
            to   { transform: translateX(50%); }
        }

        /* NAVBAR */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 70px;
            background: rgba(5,5,10,0.9);
            backdrop-filter: blur(18px);
            border-bottom: 1px solid #1f1f2b;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 26px;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            font-size: 20px;
        }

        .logo-fanion {
            width: 30px;
            height: 34px;
            border-radius: 6px 6px 2px 2px;
            background: linear-gradient(145deg, var(--primary), var(--accent));
            position: relative;
            box-shadow: 0 0 16px rgba(255, 43, 107, 0.7);
        }

        .logo-fanion::after {
            content: "";
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid var(--primary-soft);
        }

        .logo span {
            color: var(--primary-soft);
            letter-spacing: 0.08em;
        }

        .nav-links {
            display: flex;
            gap: 16px;
            font-size: 14px;
        }

        .nav-links a {
            padding: 6px 10px;
            border-radius: 999px;
            color: var(--muted);
            font-weight: 500;
            transition: 0.18s;
        }

        .nav-links a:hover {
            color: var(--primary-soft);
            background: rgba(255, 43, 107, 0.12);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .badge {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 999px;
            background: rgba(91, 91, 255, 0.18);
            color: #e5e7ff;
        }

        .icon-btn {
            border-radius: 999px;
            border: 1px solid #2b2b3f;
            background: #0b0b12;
            color: var(--muted);
            padding: 6px 10px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: 0.18s;
        }

        .icon-btn:hover {
            border-color: var(--primary-soft);
            color: var(--primary-soft);
            box-shadow: 0 0 12px rgba(255, 43, 107, 0.4);
        }

        main { padding-top: 90px; }

        /* SECTIONS */
        .section {
            padding: 50px 18px;
            max-width: 1120px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 6px;
            color: #fef2f7;
            text-shadow: 0 0 18px rgba(255, 43, 107, 0.6);
        }

        .section-sub {
            font-size: 14px;
            color: var(--muted);
            margin-bottom: 24px;
        }

        /* CARDS */
        .card {
            background: linear-gradient(145deg, #10101a, #090910);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: "";
            position: absolute;
            inset: -40%;
            background: radial-gradient(circle at top left, rgba(255,43,107,0.12), transparent 55%);
            opacity: 0.7;
            pointer-events: none;
        }

        .card-inner {
            position: relative;
            z-index: 1;
        }

        /* BOUTONS */
        .btn {
            display: inline-block;
            padding: 9px 18px;
            border-radius: 999px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border: 1px solid var(--primary-soft);
            background: transparent;
            color: var(--primary-soft);
            transition: 0.2s;
        }

        .btn:hover {
            background: var(--primary-soft);
            color: #050509;
            box-shadow: 0 0 18px rgba(255, 43, 107, 0.7);
        }

        .btn-ghost {
            border-color: #3b3b4f;
            color: var(--muted);
        }

        .btn-ghost:hover {
            border-color: var(--accent);
            color: #e5e7ff;
            background: rgba(91, 91, 255, 0.18);
        }

        /* AUDIO */
        .audio-block {
            margin-top: 10px;
            padding: 12px;
            border-radius: 12px;
            background: #151520;
            box-shadow: 0 0 12px rgba(91, 91, 255, 0.4);
        }

        audio { width: 100%; margin-top: 6px; }

        /* GRID BOUTIQUE */
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
            gap: 18px;
        }

        .product-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .product-price {
            font-size: 14px;
            color: var(--primary-soft);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .product-meta {
            font-size: 12px;
            color: var(--muted);
            margin-bottom: 10px;
        }

        /* PANIER / FID√âLIT√â */
        .pill {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 12px;
            background: rgba(91, 91, 255, 0.18);
            color: #e5e7ff;
        }

        .pill.red {
            background: rgba(255, 43, 107, 0.18);
            color: #fecdd3;
        }

        /* MODAL COMPTE / LOGIN */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.75);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal {
            background: #0b0b12;
            border-radius: 18px;
            border: 1px solid #2f2f44;
            box-shadow: 0 24px 60px rgba(0,0,0,0.9);
            width: 90%;
            max-width: 420px;
            padding: 22px 20px 18px;
            position: relative;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .modal-sub {
            font-size: 13px;
            color: var(--muted);
            margin-bottom: 16px;
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 12px;
            border: none;
            background: transparent;
            color: var(--muted);
            cursor: pointer;
            font-size: 18px;
        }

        .field {
            margin-bottom: 12px;
        }

        .field label {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .field input {
            width: 100%;
            padding: 8px 10px;
            border-radius: 999px;
            border: 1px solid #2f2f44;
            background: #05050b;
            color: var(--text);
            font-size: 13px;
        }

        .field input:focus {
            outline: none;
            border-color: var(--primary-soft);
            box-shadow: 0 0 0 1px rgba(255, 43, 107, 0.4);
        }

        .modal-footer {
            margin-top: 12px;
            font-size: 12px;
            color: var(--muted);
        }

        .modal-footer button {
            border: none;
            background: transparent;
            color: var(--primary-soft);
            cursor: pointer;
            padding: 0;
            font-size: 12px;
        }

        /* FOOTER */
        footer {
            padding: 22px 20px;
            text-align: center;
            font-size: 12px;
            color: var(--muted);
            border-top: 1px solid #1f1f2b;
            background: #050509;
        }

        @media (max-width: 700px) {
            nav { padding: 0 14px; }
            .nav-links { display: none; }
        }
    </style>
</head>

<body>

<div class="neon-bg">
    <div class="neon-line"></div>
    <div class="neon-line"></div>
    <div class="neon-line"></div>
    <div class="neon-line"></div>
    <div class="neon-line"></div>
</div>

<nav>
    <div class="logo">
        <div class="logo-fanion"></div>
        <div>DJ <span>MAX</span></div>
    </div>
    <div class="nav-links">
        <a href="#accueil">Accueil</a>
        <a href="#events">√âv√®nements</a>
        <a href="#creation">Cr√©ations DJ</a>
        <a href="#shop">Boutique</a>
        <a href="#legal">Mentions l√©gales</a>
    </div>
    <div class="nav-actions">
        <div id="loyalty-pill" class="pill red" style="display:none;">
            ‚ù§Ô∏è Fid√©lit√© : <span id="loyalty-points">0</span> pts
        </div>
        <button class="icon-btn" id="cart-btn">üõí <span id="cart-count">0</span></button>
        <button class="icon-btn" id="account-btn">üë§ <span id="account-label">Compte</span></button>
    </div>
</nav>

<main>

<!-- ACCUEIL -->
<section class="section" id="accueil">
    <div class="section-title">Bienvenue dans le club DJ MAX</div>
    <div class="section-sub">Ambiance bo√Æte de nuit, cr√©ations originales, √©v√®nements et boutique officielle.</div>

    <div class="card">
        <div class="card-inner">
            <p style="font-size:15px; color:var(--muted);">
                Cr√©e ton compte, r√©serve tes articles, cumule des points de fid√©lit√© √† chaque soir√©e et profite de l‚Äôunivers DJ MAX.
            </p>
            <div style="margin-top:14px; display:flex; flex-wrap:wrap; gap:10px;">
                <button class="btn" id="cta-create-account">Cr√©er mon compte</button>
                <a href="#events" class="btn btn-ghost">Voir les √©v√®nements</a>
            </div>
        </div>
    </div>
</section>

<!-- √âV√àNEMENTS -->
<section class="section" id="events">
    <div class="section-title">√âv√®nements</div>
    <div class="section-sub">Valide ta pr√©sence et gagne des points de fid√©lit√© (10 pts par soir√©e, compte obligatoire).</div>

    <div class="card">
        <div class="card-inner">
            <h3>DJ MAX au Restaurant Le Local</h3>
            <p style="font-size:14px; color:var(--muted); margin:6px 0;">
                üìÖ 19 f√©vrier 2026 ‚Ä¢ üïí 19h ‚Äì 23h
            </p>
            <div style="margin-top:8px; padding:6px 12px; border-radius:999px; background:#3a0000; color:#ff9ca3; display:inline-block; font-size:12px;">
                ‚óè √âV√àNEMENT ANNUL√â
            </div>
        </div>
    </div>

    <div class="card" style="margin-top:18px;">
        <div class="card-inner">
            <h3>DJ MAX au Restaurant Le Local</h3>
            <p style="font-size:14px; color:var(--muted); margin:6px 0;">
                üìÖ 26 f√©vrier 2026 ‚Ä¢ üïí 19h ‚Äì 22h
            </p>
            <button class="btn" data-event-id="event-26" onclick="validatePresence('event-26')">
                Valider ma pr√©sence √† l‚Äô√©v√®nement (+10 pts)
            </button>
        </div>
    </div>

    <div class="card" style="margin-top:18px;">
        <div class="card-inner">
            <h3>Jeu du DJ anim√© par DJ MAX</h3>
            <p style="font-size:14px; color:var(--muted); margin:6px 0;">
                üìÖ 28 f√©vrier 2026 ‚Ä¢ üïí 21h ‚Äì 22h
            </p>
            <button class="btn" data-event-id="event-28" onclick="validatePresence('event-28')">
                Valider ma pr√©sence √† l‚Äô√©v√®nement (+10 pts)
            </button>
        </div>
    </div>
</section>

<!-- CR√âATIONS DJ -->
<section class="section" id="creation">
    <div class="section-title">Cr√©ations du DJ</div>
    <div class="section-sub">Titres officiels DJ MAX.</div>

    <div class="card">
        <div class="card-inner">
            <h3>I‚Äôm Still Standing ‚Äì DJ MAX</h3>
            <div class="audio-block">
                <audio controls>
                    <source src="Im Still Standing.mp3" type="audio/mpeg">
                </audio>
            </div>

            <h3 style="margin-top:25px;">Ph√©nom√©nal ‚Äì DJ MAX</h3>
            <div class="audio-block">
                <audio controls>
                    <source src="Ph√©nom√©nal.mp3" type="audio/mpeg">
                </audio>
            </div>

            <h3 style="margin-top:25px;">Ne m'arr√™te pas maintenant ‚Äì DJ MAX</h3>
            <div class="audio-block">
                <audio controls>
                    <source src="Ne m'arr√™te pas maintenant.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>
    </div>
</section>

<!-- BOUTIQUE -->
<section class="section" id="shop">
    <div class="section-title">Boutique officielle</div>
    <div class="section-sub">Ajoute au panier et r√©serve tes articles.</div>

    <div class="products">
        <div class="card">
            <div class="card-inner">
                <div class="product-title">Chaussettes DJ MAX ‚Äì Logo 2026</div>
                <div class="product-price">4,50 ‚Ç¨</div>
                <div class="product-meta">Taille unique ‚Äì √©dition club</div>
                <button class="btn" onclick="addToCart('Chaussettes DJ MAX ‚Äì Logo 2026', 4.5)">Ajouter au panier</button>
            </div>
        </div>

        <div class="card">
            <div class="card-inner">
                <div class="product-title">Veste zipp√©e DJ MAX ‚Äì Logo blanc</div>
                <div class="product-price">13,00 ‚Ç¨</div>
                <div class="product-meta">Taille S √† XL ‚Äì √©dition limit√©e</div>
                <button class="btn" onclick="addToCart('Veste zipp√©e DJ MAX ‚Äì Logo blanc', 13)">Ajouter au panier</button>
            </div>
        </div>
    </div>
</section>

<!-- R√âSERVATION / PANIER -->
<section class="section" id="achat">
    <div class="section-title">Panier & R√©servation</div>
    <div class="section-sub">Valide ta commande et re√ßois un r√©capitulatif par e‚Äëmail.</div>

    <div class="card">
        <div class="card-inner">
            <p style="font-size:14px; color:var(--muted); margin-bottom:10px;">
                Panier actuel :
            </p>
            <div id="cart-items" style="font-size:14px; color:var(--muted); margin-bottom:10px;">
                Aucun article pour le moment.
            </div>
            <p style="font-size:14px; margin-bottom:10px;">
                Total : <span id="cart-total">0,00 ‚Ç¨</span>
            </p>
            <button class="btn" onclick="checkout()">Valider ma r√©servation</button>
        </div>
    </div>
</section>

<!-- MENTIONS L√âGALES -->
<section class="section" id="legal">
    <div class="section-title">Mentions l√©gales</div>
    <div class="section-sub">Informations officielles.</div>

    <div class="card">
        <div class="card-inner">
            <p><strong>√âditeur :</strong> DJ MAX ‚Äì Seyssinet-Pariset</p>
            <p><strong>Contact :</strong> maxens.gv@djmax38.com</p>
            <p><strong>H√©bergement :</strong> GitHub Pages</p>
            <p><strong>Donn√©es personnelles :</strong> Les informations saisies dans le formulaire de r√©servation sont utilis√©es uniquement pour traiter la demande.</p>
        </div>
    </div>
</section>

</main>

<footer>
    ¬© 2026 ‚Äì DJ MAX ‚Ä¢ Tous droits r√©serv√©s
</footer>

<!-- MODAL COMPTE -->
<div class="modal-backdrop" id="account-modal">
    <div class="modal">
        <button class="modal-close" onclick="closeAccountModal()">√ó</button>
        <div id="account-modal-content"></div>
    </div>
</div>

<script>
    // ====== LOCALSTORAGE KEYS ======
    const LS_USER = "djmax_user";
    const LS_LOYALTY = "djmax_loyalty";
    const LS_EVENTS = "djmax_events_validated";
    const LS_CART = "djmax_cart";

    let currentUser = null;
    let loyaltyPoints = 0;
    let validatedEvents = {};
    let cart = [];

    function loadState() {
        const u = localStorage.getItem(LS_USER);
        if (u) currentUser = JSON.parse(u);

        const l = localStorage.getItem(LS_LOYALTY);
        if (l) loyaltyPoints = parseInt(l, 10) || 0;

        const e = localStorage.getItem(LS_EVENTS);
        if (e) validatedEvents = JSON.parse(e);

        const c = localStorage.getItem(LS_CART);
        if (c) cart = JSON.parse(c);

        updateUI();
    }

    function saveUser() {
        if (currentUser) localStorage.setItem(LS_USER, JSON.stringify(currentUser));
        else localStorage.removeItem(LS_USER);
        updateUI();
    }

    function saveLoyalty() {
        localStorage.setItem(LS_LOYALTY, String(loyaltyPoints));
        updateUI();
    }

    function saveEvents() {
        localStorage.setItem(LS_EVENTS, JSON.stringify(validatedEvents));
    }

    function saveCart() {
        localStorage.setItem(LS_CART, JSON.stringify(cart));
        updateUI();
    }

    function updateUI() {
        const accountLabel = document.getElementById("account-label");
        const loyaltyPill = document.getElementById("loyalty-pill");
        const loyaltySpan = document.getElementById("loyalty-points");
        const cartCount = document.getElementById("cart-count");
        const cartItems = document.getElementById("cart-items");
        const cartTotal = document.getElementById("cart-total");

        if (currentUser) {
            accountLabel.textContent = currentUser.name || "Mon compte";
            loyaltyPill.style.display = "inline-flex";
        } else {
            accountLabel.textContent = "Compte";
            loyaltyPill.style.display = "none";
        }

        loyaltySpan.textContent = loyaltyPoints;

        cartCount.textContent = cart.length;

        if (cart.length === 0) {
            cartItems.textContent = "Aucun article pour le moment.";
            cartTotal.textContent = "0,00 ‚Ç¨";
        } else {
            cartItems.innerHTML = "";
            let total = 0;
            cart.forEach(item => {
                const line = document.createElement("div");
                line.textContent = item.name + " ‚Äì " + item.price.toFixed(2) + " ‚Ç¨";
                cartItems.appendChild(line);
                total += item.price;
            });
            cartTotal.textContent = total.toFixed(2) + " ‚Ç¨";
        }
    }

    // ====== COMPTE / MODAL ======
    const accountModal = document.getElementById("account-modal");
    const accountModalContent = document.getElementById("account-modal-content");

    function openAccountModal(mode) {
        if (mode === "login") {
            accountModalContent.innerHTML = `
                <div class="modal-title">Connexion</div>
                <div class="modal-sub">Connecte-toi avec ton identifiant et ton mot de passe.</div>
                <div class="field">
                    <label>Identifiant</label>
                    <input type="text" id="login-id" placeholder="Ton identifiant">
                </div>
                <div class="field">
                    <label>Mot de passe</label>
                    <input type="password" id="login-pass" placeholder="Ton mot de passe">
                </div>
                <button class="btn" style="margin-top:8px;" onclick="doLogin()">Se connecter</button>
                <div class="modal-footer">
                    Pas encore de compte ?
                    <button onclick="openAccountModal('register')">Cr√©er un compte</button>
                </div>
            `;
        } else if (mode === "register") {
            accountModalContent.innerHTML = `
                <div class="modal-title">Cr√©ation de compte</div>
                <div class="modal-sub">Ton compte sera enregistr√© sur cet appareil et gardera tes infos pour les commandes.</div>
                <div class="field">
                    <label>Nom / Pseudo</label>
                    <input type="text" id="reg-name" placeholder="DJ MAX Fan">
                </div>
                <div class="field">
                    <label>Adresse e‚Äëmail</label>
                    <input type="email" id="reg-mail" placeholder="ton.email@example.com">
                </div>
                <div class="field">
                    <label>Identifiant</label>
                    <input type="text" id="reg-id" placeholder="Choisis ton identifiant">
                </div>
                <div class="field">
                    <label>Mot de passe</label>
                    <input type="password" id="reg-pass" placeholder="Choisis ton mot de passe">
                </div>
                <button class="btn" style="margin-top:8px;" onclick="doRegister()">Cr√©er mon compte</button>
                <div class="modal-footer">
                    Tu as d√©j√† un compte ?
                    <button onclick="openAccountModal('login')">Se connecter</button>
                </div>
            `;
        } else if (mode === "profile" && currentUser) {
            accountModalContent.innerHTML = `
                <div class="modal-title">Mon compte</div>
                <div class="modal-sub">Connect√© en tant que <strong>${currentUser.name || currentUser.id}</strong>.</div>
                <p style="font-size:13px; color:var(--muted); margin-bottom:8px;">
                    Identifiant : <strong>${currentUser.id}</strong><br>
                    E‚Äëmail : <strong>${currentUser.email || "non renseign√©"}</strong><br>
                    Points fid√©lit√© : <strong>${loyaltyPoints}</strong>
                </p>
                <button class="btn btn-ghost" onclick="logout()">Se d√©connecter</button>
            `;
        }
        accountModal.style.display = "flex";
    }

    function closeAccountModal() {
        accountModal.style.display = "none";
    }

    function doRegister() {
        const name = document.getElementById("reg-name").value.trim();
        const email = document.getElementById("reg-mail").value.trim();
        const id = document.getElementById("reg-id").value.trim();
        const pass = document.getElementById("reg-pass").value.trim();

        if (!name || !email || !id || !pass) {
            alert("Merci de remplir tous les champs.");
            return;
        }

        currentUser = { name, email, id, pass };
        loyaltyPoints = 0;
        validatedEvents = {};
        saveUser();
        saveLoyalty();
        saveEvents();
        closeAccountModal();
        alert("Compte cr√©√© avec succ√®s. Tu es maintenant connect√©.");
    }

    function doLogin() {
        const id = document.getElementById("login-id").value.trim();
        const pass = document.getElementById("login-pass").value.trim();

        if (!id || !pass) {
            alert("Merci de remplir identifiant et mot de passe.");
            return;
        }

        const u = localStorage.getItem(LS_USER);
        if (!u) {
            alert("Aucun compte enregistr√© sur cet appareil.");
            return;
        }
        const stored = JSON.parse(u);
        if (stored.id === id && stored.pass === pass) {
            currentUser = stored;
            loyaltyPoints = parseInt(localStorage.getItem(LS_LOYALTY) || "0", 10);
            validatedEvents = JSON.parse(localStorage.getItem(LS_EVENTS) || "{}");
            updateUI();
            closeAccountModal();
            alert("Connexion r√©ussie.");
        } else {
            alert("Identifiant ou mot de passe incorrect.");
        }
    }

    function logout() {
        currentUser = null;
        saveUser();
        closeAccountModal();
    }

    // ====== FID√âLIT√â ======
    function validatePresence(eventId) {
        if (!currentUser) {
            alert("Tu dois avoir un compte et √™tre connect√© pour valider ta pr√©sence.");
            openAccountModal("register");
            return;
        }
        if (validatedEvents[eventId]) {
            alert("Ta pr√©sence √† cet √©v√®nement est d√©j√† valid√©e.");
            return;
        }
        validatedEvents[eventId] = true;
        loyaltyPoints += 10;
        saveEvents();
        saveLoyalty();
        alert("Pr√©sence valid√©e ! +10 points de fid√©lit√©.");
    }

    // ====== PANIER ======
    function addToCart(name, price) {
        cart.push({ name, price });
        saveCart();
        alert("Article ajout√© au panier.");
    }

    function checkout() {
        if (!currentUser) {
            alert("Tu dois √™tre connect√© pour valider ta r√©servation.");
            openAccountModal("register");
            return;
        }
        if (cart.length === 0) {
            alert("Ton panier est vide.");
            return;
        }
        alert("Ta r√©servation est enregistr√©e. Tu peux envoyer un e‚Äëmail √† maxens.gv@djmax38.com avec ton identifiant pour finaliser.");
    }

    // ====== BOUTONS NAV ======
    document.getElementById("account-btn").addEventListener("click", () => {
        if (currentUser) openAccountModal("profile");
        else openAccountModal("login");
    });

    document.getElementById("cta-create-account").addEventListener("click", () => {
        openAccountModal("register");
    });

    document.getElementById("cart-btn").addEventListener("click", () => {
        document.location.hash = "#achat";
    });

    window.addEventListener("click", (e) => {
        if (e.target === accountModal) closeAccountModal();
    });

    loadState();
</script>

</body>
</html>
